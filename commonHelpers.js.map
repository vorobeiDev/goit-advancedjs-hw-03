{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\n\nconst renderHTMLElement = (node, content, position = 'beforeend') => {\n  node.insertAdjacentHTML(position, content);\n};\n\nconst removeInnerHTMLElement = (node) => {\n  node.innerHTML = '';\n};\n\nexport const renderSearchFormElement = (node) => {\n  const content = `\n    <form class=\"search-form\" id=\"search-form\">\n      <input\n        type=\"text\"\n        name=\"search\"\n        autocomplete=\"off\"\n        placeholder=\"Search images...\"\n      />\n      <button type=\"submit\">Search</button>\n    </form>\n  `;\n\n  renderHTMLElement(node, content);\n};\n\nexport const renderGallery = (node) => {\n  const content = `<div class=\"gallery\" id=\"gallery\"></div>`;\n\n  renderHTMLElement(node, content);\n};\n\nexport const renderGalleryItem = (node, images) => {\n  const content = images.map((image) => `\n    <div class=\"gallery-item\">\n      <a href=\"${image.largeImageURL}\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n      </a>\n      <div class=\"gallery-item-info\">\n        <div>\n          <b>Likes</b>\n          ${image.likes}\n        </div>\n        <div>\n          <b>Views</b>\n          ${image.views}\n        </div>\n        <div>\n          <b>Comments</b>\n          ${image.comments}\n        </div>\n        <div>\n          <b>Downloads</b>\n          ${image.downloads}\n        </div>\n      </div>\n    </div>\n  `)\n  .join('');\n\n  renderHTMLElement(node, content);\n};\n\nexport const renderImagesElement = (node, images) => {\n  removeInnerHTMLElement(node);\n\n  if (images && images.length) {\n    renderGalleryItem(node, images);\n  }\n};\n\nexport const renderLoadingElement = (node) => {\n  removeInnerHTMLElement(node);\n\n  const content = `\n    <div class=\"loading\">Loading images, please wait...</div>\n    <span class=\"loader\"></span>\n  `;\n\n  renderHTMLElement(node, content);\n};","import iziToast from 'izitoast';\n\nconst API_KEY = '45273601-269fa7243c6da01438f09c62a';\n\nexport const getImagesFromAPI = (searchQuery) => {\n  const requestQuery = `key=${API_KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal`;\n\n  return fetch(`https://pixabay.com/api?${requestQuery}`, {\n    referrerPolicy: 'unsafe-url',\n  })\n    .then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n        throw new Error(response.statusText);\n      })\n    .then((data) => {\n      return data.hits;\n    })\n    .catch(() => {\n      iziToast.error('Error while fetching images. Please try again!');\n    });\n}","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\nimport {\n  renderSearchFormElement,\n  renderImagesElement,\n  renderGallery, renderLoadingElement,\n} from './js/render-functions.js';\nimport { getImagesFromAPI } from './js/pixabay-api.js';\n\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\niziToast.settings({\n  position: 'topRight',\n  timeout: 3000,\n});\n\nconst onSubmitSearchFormHandler = (event, form, galleryContainer, gallery) => {\n  event.preventDefault();\n  const query = form.elements.search.value;\n\n  if (query.trim() !== '') {\n    renderLoadingElement(galleryContainer);\n\n    getImagesFromAPI(query).then((images) => {\n      renderImagesElement(galleryContainer, images);\n      gallery.refresh();\n      if (!images.length) {\n        iziToast.error({\n          icon: '',\n          iconText: '',\n          title: '❌ Error',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n    });\n  } else {\n    iziToast.warning({\n      icon: '',\n      iconText: '',\n      title: '⚠️ Warning',\n      message: 'Please enter a search query!',\n    });\n  }\n\n  form.reset();\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const root = document.getElementById('root');\n\n  renderSearchFormElement(root);\n  renderGallery(root);\n\n  const form = document.querySelector('#search-form');\n  const galleryContainer = document.querySelector('#gallery');\n\n  const gallery = new SimpleLightbox('#gallery a', {\n    captionDelay: 250,\n    captionsData: 'alt',\n  });\n\n  form.addEventListener('submit', (event) => {\n    onSubmitSearchFormHandler(event, form, galleryContainer, gallery);\n  });\n});"],"names":["renderHTMLElement","node","content","position","removeInnerHTMLElement","renderSearchFormElement","renderGallery","renderGalleryItem","images","image","renderImagesElement","renderLoadingElement","API_KEY","getImagesFromAPI","searchQuery","requestQuery","response","data","iziToast","onSubmitSearchFormHandler","event","form","galleryContainer","gallery","query","root","SimpleLightbox"],"mappings":"wvBAEA,MAAMA,EAAoB,CAACC,EAAMC,EAASC,EAAW,cAAgB,CACnEF,EAAK,mBAAmBE,EAAUD,CAAO,CAC3C,EAEME,EAA0BH,GAAS,CACvCA,EAAK,UAAY,EACnB,EAEaI,EAA2BJ,GAAS,CAa/CD,EAAkBC,EAZF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAYe,CACjC,EAEaK,EAAiBL,GAAS,CAGrCD,EAAkBC,EAFF,0CAEe,CACjC,EAEaM,EAAoB,CAACN,EAAMO,IAAW,CACjD,MAAMN,EAAUM,EAAO,IAAKC,GAAU;AAAA;AAAA,iBAEvBA,EAAM,aAAa;AAAA,oBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,YAK9CA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,YAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,YAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,YAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,GAIxB,EACA,KAAK,EAAE,EAERT,EAAkBC,EAAMC,CAAO,CACjC,EAEaQ,EAAsB,CAACT,EAAMO,IAAW,CACnDJ,EAAuBH,CAAI,EAEvBO,GAAUA,EAAO,QACnBD,EAAkBN,EAAMO,CAAM,CAElC,EAEaG,EAAwBV,GAAS,CAC5CG,EAAuBH,CAAI,EAO3BD,EAAkBC,EALF;AAAA;AAAA;AAAA,GAKe,CACjC,EC9EMW,EAAU,qCAEHC,EAAoBC,GAAgB,CAC/C,MAAMC,EAAe,OAAOH,CAAO,MAAME,CAAW,2CAEpD,OAAO,MAAM,2BAA2BC,CAAY,GAAI,CACtD,eAAgB,YACpB,CAAG,EACE,KAAMC,GAAa,CAClB,GAAIA,EAAS,GACX,OAAOA,EAAS,OAEhB,MAAM,IAAI,MAAMA,EAAS,UAAU,CAC3C,CAAO,EACF,KAAMC,GACEA,EAAK,IACb,EACA,MAAM,IAAM,CACXC,EAAS,MAAM,gDAAgD,CACrE,CAAK,CACL,ECTAA,EAAS,SAAS,CAChB,SAAU,WACV,QAAS,GACX,CAAC,EAED,MAAMC,EAA4B,CAACC,EAAOC,EAAMC,EAAkBC,IAAY,CAC5EH,EAAM,eAAc,EACpB,MAAMI,EAAQH,EAAK,SAAS,OAAO,MAE/BG,EAAM,KAAM,IAAK,IACnBb,EAAqBW,CAAgB,EAErCT,EAAiBW,CAAK,EAAE,KAAMhB,GAAW,CACvCE,EAAoBY,EAAkBd,CAAM,EAC5Ce,EAAQ,QAAO,EACVf,EAAO,QACVU,EAAS,MAAM,CACb,KAAM,GACN,SAAU,GACV,MAAO,UACP,QAAS,0EACnB,CAAS,CAET,CAAK,GAEDA,EAAS,QAAQ,CACf,KAAM,GACN,SAAU,GACV,MAAO,aACP,QAAS,8BACf,CAAK,EAGHG,EAAK,MAAK,CACZ,EAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMI,EAAO,SAAS,eAAe,MAAM,EAE3CpB,EAAwBoB,CAAI,EAC5BnB,EAAcmB,CAAI,EAElB,MAAMJ,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAmB,SAAS,cAAc,UAAU,EAEpDC,EAAU,IAAIG,EAAe,aAAc,CAC/C,aAAc,IACd,aAAc,KAClB,CAAG,EAEDL,EAAK,iBAAiB,SAAWD,GAAU,CACzCD,EAA0BC,EAAOC,EAAMC,EAAkBC,CAAO,CACpE,CAAG,CACH,CAAC"}